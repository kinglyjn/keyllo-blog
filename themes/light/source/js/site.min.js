!function(t){function e(e){var i=t(e.currentTarget).val();if(console.log(i),i.length>0){t("#common-packages").hide();var l=_.filter(s,function(t){return new RegExp(i,"i").test(t[0])});i.length<2&&(l=_.slice(l,0,100));var o=l.reduce(function(t,e){return t.push(a.replace(/{{name}}/g,_.escape(e[0])).replace(/{{description}}/g,_.escape(e[1])).replace(/{{stars}}/g,_.escape(e[2]))),t},[]).join("");t("#search-results").html(o).show()}else t("#common-packages").show(),t("#search-results").hide()}var a='<a href="/{{name}}/" class="package list-group-item" target="_blank"  onclick="_hmt.push([\'_trackEvent\', \'packages\', \'click\', \'{{name}}\'])"><div class="row"><div class="col-md-3"><h4 class="package-name">{{name}}</h4></div><div class="col-md-9 hidden-xs"><p class="package-description">{{description}}</p></div><div class="package-extra-info col-md-9 col-md-offset-3 col-xs-12"><span><i class="fa fa-star"></i> {{stars}}</span></div></div></a>',s=[];t(".search").length>0&&t.get("https://api.bootcdn.cn/libraries.min.json?"+build).done(function(t){s=t}),t(".search").val("").focus(),t(document).on("input",".clearable",function(){this.value?t(this).next("i").removeClass("fa-search").addClass("fa-close x"):t(this).next("i").removeClass("fa-close").addClass("fa-search")}).on("mousemove",".x",function(e){t(this).addClass("onX")}).on("click",".onX",function(){t(this).removeClass("x onX").prev("input").val("").change(),t(this).removeClass("fa-close").addClass("fa-search"),t("#common-packages").show(),t("#search-results").hide()}),t(window).scroll(function(){t(this).scrollTop()>100?t("#back-to-top").fadeIn():t("#back-to-top").fadeOut()}),t("#back-to-top").on("click",function(e){return e.preventDefault(),t("html, body").animate({scrollTop:0},100),!1});t(".btn-group .btn").click(function(){var e=t("input",this),a=e.attr("id");console.log("Protocal ",a," was selected"),"relative"===a?t(".library-url").each(function(){var e=t(this).text();t(this).text(e.replace(/^https?:/i,"")),t(this).parent().removeClass("js-https")}):"http"===a?t(".library-url").each(function(){var e=t(this).text();t(this).text("http:"+e.replace(/^https?:/i,"")),t(this).parent().removeClass("js-https")}):"https"===a&&t(".library-url").each(function(){var e=t(this).text();t(this).text("https:"+e.replace(/^https?:/i,"")),t(this).parent().addClass("js-https")}),localforage.setItem("protocal",a,function(t,e){if(t)return console.log(t);console.log("saved protocal: ",e)})})}(jQuery);